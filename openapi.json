{"openapi":"3.1.0","info":{"title":"API Vizite","version":"1.0.0"},"paths":{"\/api\/v1\/sign-up":{"post":{"summary":"Register a new user","tags":["Authentication"],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"type":"object","required":["name","email","password"],"properties":{"name":{"type":"string","description":"User's full name"},"email":{"type":"string","format":"email","description":"User's email address"},"password":{"type":"string","format":"password","description":"User's password"}}}}}},"responses":{"200":{"description":"User successfully registered","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"type":{"type":"string","example":"users"},"id":{"type":"string","description":"User ID"},"attributes":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}}},"meta":{"type":"object","properties":{"access_token":{"type":"string"}}}}}}}}}},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}}}}},"\/api\/v1\/sign-in":{"post":{"summary":"Authenticate a user","tags":["Authentication"],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"type":"object","required":["email","password"],"properties":{"email":{"type":"string","format":"email"},"password":{"type":"string","format":"password"}}}}}},"responses":{"200":{"description":"User successfully authenticated","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"type":{"type":"string","example":"users"},"id":{"type":"string","description":"User ID"},"attributes":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"}}},"meta":{"type":"object","properties":{"access_token":{"type":"string"}}}}}}}}}},"401":{"description":"Invalid credentials","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Invalid credentials"}}}}}}}}},"\/api\/v1\/sign-out":{"post":{"summary":"Log out a user","tags":["Authentication"],"security":[{"bearerAuth":[]}],"responses":{"200":{"description":"User successfully logged out","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Successfully logged out"}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}}}}},"\/api\/v1\/recover-password":{"post":{"summary":"Request a password reset link","tags":["Authentication"],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"type":"object","required":["email"],"properties":{"email":{"type":"string","format":"email","description":"User's email address"}}}}}},"responses":{"200":{"description":"Password reset link sent","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Password reset link sent"},"status":{"type":"string"}}}}}},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}},"400":{"description":"Error sending password reset link","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unable to send password reset link"},"error":{"type":"string"}}}}}}}}},"\/api\/v1\/reset-password":{"post":{"summary":"Reset user password","tags":["Authentication"],"requestBody":{"required":true,"content":{"application\/json":{"schema":{"type":"object","required":["token","email","password","password_confirmation"],"properties":{"token":{"type":"string","description":"Password reset token"},"email":{"type":"string","format":"email","description":"User's email address"},"password":{"type":"string","format":"password","description":"New password"},"password_confirmation":{"type":"string","format":"password","description":"Confirm new password"}}}}}},"responses":{"200":{"description":"Password successfully reset","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Password has been successfully reset"},"status":{"type":"string"}}}}}},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}},"400":{"description":"Error resetting password","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unable to reset password"},"error":{"type":"string"}}}}}}}}},"\/api\/v1\/clients":{"get":{"summary":"List all clients","tags":["Clients"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"per_page","in":"query","required":false,"schema":{"type":"integer"},"description":"Number of items per page (default is 10)"},{"name":"page","in":"query","required":false,"schema":{"type":"integer"},"description":"Page number for pagination"},{"name":"include","in":"query","required":false,"schema":{"type":"string"},"description":"Resources to include (e.g., city.state)"},{"name":"filter[name]","in":"query","required":false,"schema":{"type":"string"},"description":"Filter clients by name"},{"name":"filter[city.name]","in":"query","required":false,"schema":{"type":"string"},"description":"Filter clients by city name"},{"name":"filter[city.state.name]","in":"query","required":false,"schema":{"type":"string"},"description":"Filter clients by state name"}],"responses":{"200":{"description":"List of clients","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#\/components\/schemas\/Client"}},"links":{"type":"object","description":"Pagination links"},"meta":{"type":"object","description":"Pagination metadata"}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"This action is unauthorized."}}}}}}}},"post":{"summary":"Create a new client","tags":["Clients"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart\/form-data":{"schema":{"$ref":"#\/components\/schemas\/ClientRequest"}}}},"responses":{"201":{"description":"Client successfully created","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/Client"}}}}}},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}}}}},"\/api\/v1\/clients\/{id}":{"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"},"description":"Client UUID"}],"get":{"summary":"Get a specific client","tags":["Clients"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"include","in":"query","required":false,"schema":{"type":"string"},"description":"Resources to include (e.g., city.state)"}],"responses":{"200":{"description":"Client details","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/Client"},"included":{"type":"array","items":{"type":"object"}}}}}}},"404":{"description":"Client not found"},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"This action is unauthorized."}}}}}}}},"patch":{"summary":"Update a client","tags":["Clients"],"security":[{"bearerAuth":[]}],"requestBody":{"required":true,"content":{"multipart\/form-data":{"schema":{"$ref":"#\/components\/schemas\/ClientRequest"}}}},"responses":{"200":{"description":"Client successfully updated","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/Client"}}}}}},"404":{"description":"Client not found"},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"This action is unauthorized."}}}}}}}},"delete":{"summary":"Delete a client","tags":["Clients"],"security":[{"bearerAuth":[]}],"responses":{"204":{"description":"Client successfully deleted"},"404":{"description":"Client not found"},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"This action is unauthorized."}}}}}}}}},"\/api\/v1\/clients\/{client_id}\/registries":{"get":{"summary":"Get all registries for a client","tags":["Client Registries"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string"},"description":"The client ID"},{"name":"include","in":"query","required":false,"schema":{"type":"string"},"description":"Relationships to include (client, user)"},{"name":"filter[title]","in":"query","required":false,"schema":{"type":"string"},"description":"Filter by title"},{"name":"filter[description]","in":"query","required":false,"schema":{"type":"string"},"description":"Filter by description"},{"name":"per_page","in":"query","required":false,"schema":{"type":"integer","default":10},"description":"Number of items per page"},{"name":"page","in":"query","required":false,"schema":{"type":"integer","default":1},"description":"Page number"}],"responses":{"200":{"description":"List of client registries","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#\/components\/schemas\/ClientRegistry"}},"links":{"type":"object","properties":{"first":{"type":"string"},"last":{"type":"string"},"prev":{"type":"string","nullable":true},"next":{"type":"string","nullable":true}}},"meta":{"type":"object","properties":{"current_page":{"type":"integer"},"from":{"type":"integer"},"last_page":{"type":"integer"},"path":{"type":"string"},"per_page":{"type":"integer"},"to":{"type":"integer"},"total":{"type":"integer"}}}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Forbidden"}}}}}},"post":{"summary":"Create a new registry for a client","tags":["Client Registries"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string"},"description":"The client ID"}],"requestBody":{"required":true,"content":{"multipart\/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"Registry title","maxLength":100},"description":{"type":"string","description":"Registry description"},"attachment":{"type":"string","format":"binary","description":"File attachment (jpeg, png, jpg, gif, pdf, doc, docx, xls, xlsx, txt, csv, max 4MB)"}},"required":["description"]}}}},"responses":{"200":{"description":"Registry created successfully","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/ClientRegistry"}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Forbidden"}}}},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}}}}},"\/api\/v1\/clients\/{client_id}\/registries\/{registry_id}":{"get":{"summary":"Get a specific client registry","tags":["Client Registries"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string"},"description":"The client ID"},{"name":"registry_id","in":"path","required":true,"schema":{"type":"string"},"description":"The registry ID"},{"name":"include","in":"query","required":false,"schema":{"type":"string"},"description":"Relationships to include (client, user)"}],"responses":{"200":{"description":"Client registry details","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/ClientRegistry"}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Forbidden"}}}},"404":{"description":"Registry not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/NotFound"}}}}}},"put":{"summary":"Update a client registry","tags":["Client Registries"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string"},"description":"The client ID"},{"name":"registry_id","in":"path","required":true,"schema":{"type":"string"},"description":"The registry ID"}],"requestBody":{"required":true,"content":{"multipart\/form-data":{"schema":{"type":"object","properties":{"title":{"type":"string","description":"Registry title","maxLength":100},"description":{"type":"string","description":"Registry description"},"attachment":{"type":"string","format":"binary","description":"File attachment (jpeg, png, jpg, gif, pdf, doc, docx, xls, xlsx, txt, csv, max 4MB)"}}}}}},"responses":{"200":{"description":"Registry updated successfully","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"$ref":"#\/components\/schemas\/ClientRegistry"}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Forbidden"}}}},"404":{"description":"Registry not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/NotFound"}}}},"422":{"description":"Validation error","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/ValidationError"}}}}}},"delete":{"summary":"Delete a client registry","tags":["Client Registries"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"client_id","in":"path","required":true,"schema":{"type":"string"},"description":"The client ID"},{"name":"registry_id","in":"path","required":true,"schema":{"type":"string"},"description":"The registry ID"}],"responses":{"204":{"description":"Registry deleted successfully"},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Unauthorized"}}}},"403":{"description":"Forbidden","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/Forbidden"}}}},"404":{"description":"Registry not found","content":{"application\/json":{"schema":{"$ref":"#\/components\/schemas\/NotFound"}}}}}}},"\/api\/v1\/users\/{id}":{"get":{"summary":"Fetch a user","tags":["Users"],"security":[{"bearerAuth":[]}],"parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer"},"description":"The user ID"},{"name":"include","in":"query","required":false,"schema":{"type":"string"},"description":"Comma-separated list of relationships to include (e.g., \"clients\")","example":"clients"}],"responses":{"200":{"description":"User successfully retrieved","content":{"application\/json":{"schema":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string","description":"User ID"},"type":{"type":"string","example":"users"},"attributes":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"uuid":{"type":"string","format":"uuid"}}},"relationships":{"type":"object","properties":{"clients":{"type":"object","properties":{"data":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","example":"clients"}}}}}}}}}},"included":{"type":"array","items":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string"},"attributes":{"type":"object"}}},"description":"Included resources when using the include parameter"}}}}}},"401":{"description":"Unauthorized","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"Unauthenticated"}}}}}},"404":{"description":"User not found","content":{"application\/json":{"schema":{"type":"object","properties":{"message":{"type":"string","example":"User not found"}}}}}}}}}},"components":{"schemas":{"User":{"type":"object","properties":{"id":{"type":"integer"},"name":{"type":"string"},"email":{"type":"string"}}},"ValidationError":{"type":"object","properties":{"message":{"type":"string","example":"The given data was invalid."},"errors":{"type":"object","additionalProperties":{"type":"array","items":{"type":"string"}}}}},"Client":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","example":"client"},"attributes":{"type":"object","properties":{"uuid":{"type":"string","format":"uuid","description":"Client's UUID (version 7)"},"name":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"document":{"type":"string"},"address":{"type":"string"},"number":{"type":"string"},"complement":{"type":"string"},"neighborhood":{"type":"string"},"zip_code":{"type":"string"},"coordinates":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"picture":{"type":"string"}}},"relationships":{"type":"object","properties":{"city":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","example":"city"}}}}}}}}},"ClientRequest":{"type":"object","required":["name"],"properties":{"city_id":{"type":"integer"},"name":{"type":"string","description":"Client's name"},"email":{"type":"string","format":"email"},"phone":{"type":"string"},"document":{"type":"string"},"address":{"type":"string"},"number":{"type":"string"},"complement":{"type":"string"},"neighborhood":{"type":"string"},"zip_code":{"type":"string"},"coordinates":{"type":"string"},"status":{"type":"string"},"type":{"type":"string"},"picture":{"type":"string","format":"binary"}}},"ClientRegistry":{"type":"object","properties":{"id":{"type":"string","description":"Registry ID"},"type":{"type":"string","example":"client-registries"},"attributes":{"type":"object","properties":{"title":{"type":"string","nullable":true,"description":"Registry title"},"description":{"type":"string","description":"Registry description"},"attachment":{"type":"string","nullable":true,"description":"File attachment path"},"client_id":{"type":"string","description":"Client ID"},"user_id":{"type":"string","description":"User ID"},"created_at":{"type":"string","format":"date-time","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","description":"Last update timestamp"}}},"relationships":{"type":"object","properties":{"client":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","example":"clients"}}}}},"user":{"type":"object","properties":{"data":{"type":"object","properties":{"id":{"type":"string"},"type":{"type":"string","example":"users"}}}}}}}}}},"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}